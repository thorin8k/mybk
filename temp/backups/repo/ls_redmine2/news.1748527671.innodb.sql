/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `news` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `project_id` int(11) DEFAULT NULL,
  `title` varchar(60) NOT NULL DEFAULT '',
  `summary` varchar(255) DEFAULT '',
  `description` text,
  `author_id` int(11) NOT NULL DEFAULT '0',
  `created_on` datetime DEFAULT NULL,
  `comments_count` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `news_project_id` (`project_id`),
  KEY `index_news_on_author_id` (`author_id`),
  KEY `index_news_on_created_on` (`created_on`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;
INSERT INTO `news` VALUES (2,10,'migracion!!! a las18:00','resumen cambios','desplegado v3b5p10\r\noracle11g en cluster de 2 nodos con balanceo de carga\r\ntomcat 6\r\nen\r\n/home/taonet/apache...\r\njdk 6\r\nserver linux otic\r\nservicio se arranca y para\r\n/etc/init.d/taonet start/stop/restart\r\narchivos de config\r\n/home/taonet/resources\r\n \r\nIntegracion de demograficos con empi (habra que actualizar la)\r\nIntegracion de altas y bajasd e episodios con manacor e inca\r\n\r\nIntegracion de obtencion de ultimo calendario con inca\r\n\r\nqueda en el antiguo servidor de pro una redireccion al nuevo mientras que\r\nhp no cambie su redireccion para el ultimo calendario, el viejo pre desaparecera.',3,'2011-03-30 14:57:29',0),(3,3,'Problemas LDAP - M$ Active Directory','en integraciones con AD, hay q usar la clase de la rioja q autentica en 2 pasos 1º usuario y si no usuario@dominio','Las AD de m$ q han sido migradas de un 2003 o anterior a 2008  se da que los usuarios importados se importaron como \r\nusuario@dominio (segun TECHNET es una issue habitual)  asi que para q podamos validar todos los usuarios de esos LDAP (de momento lo tenemos en la rioja y en puigcerda) usaremos la clase KynTAOAuthRioja que valida en 4 pasos de 2 formas:\r\n   -1º valida el usuario\r\n   -2º valida con usuario@dominio\r\n   -3º reconecta por si se ha caducado la conexion al estar mucho tiempo sin loguearse nadie y valida con el usuario\r\n   -4º valida con usuario@dominio\r\n\r\n\r\ncodigos de error de ldap\r\n\r\nhttp://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21290631',3,'2012-02-16 18:19:29',0),(4,3,'Problemas Certificados LDAP en Windows JDK','ante problemas al usar certificados a instalar en jdks en windows revisar pasos','1º la ruta de la jdk q vayamos a utilizar con el tomcat* debe estar en una ruta sin espacios* ++tipo c:\\taonet\\jdk1.6.5, esto es\r\n!!!MUUUYYY IMPORRRTANTE!!!!! nada de c:\\archivos de programa .... o similares con rutas con espacios no va a tirar !!\r\n\r\n2º obtener los certificados del https: si no nos los dan podemos obtenerlos usando firefox, abrimos la url, puede q tengamos q quitar el puerto o poner el 8080. Pulsamos en --> entender los riesgos --> añadir una excepcion -->ver certificado-->pestaña detalles --> export y guardamos el certificado\r\n\r\n3º importar certificado en jdk\r\n\r\nusando keytool q esta en el bin de la jdk importamos de esta forma\r\n\r\nkeytool -import -keystore \"C:\\taonet\\jdk1.6.5\\jre\\lib\\security\\cacerts\" -file\r\nc:\\NuevaEntidadCertificadora.cer -alias ldapCert -storepass\r\nchangeit\r\n\r\n\r\n4º arrancar el tomcat y listo\r\n',3,'2012-03-17 10:17:02',0),(5,3,'JVM Tunning con jdk1.6 usada en YAGUE','descripcion de los parametros usados en el yague para tunear la jvm para v3.1','las 3 timpicas:\r\n--JvmMs 256  asignacion de men inicial a la pila de la vm\r\n--JvmMx 960  maxima ram que puede ocupar la pila de la vm\r\n-XX:MaxPermSize=256m maximo tamaño que puede tomar la men de obj de larga duracion\r\n\r\nNUEVOS PARAMETROS\r\n\r\n comportamiento jvm\r\n-server : la jvm se optimiza para trabajar en modo servidor\r\n\r\n optimizaciones jvm en uso de Strings, sus nombres son claros\r\n-XX:UseStringCache \r\n-XX:UseCompressedStrings \r\n-XX:OptimizeStringConcat \r\n\r\n optimizaciones gc\r\n-XX:UseConcMarkSweepGC  : activa el gc concurrente que esta diseñado para aplicaciones con un tamaño de datos medio-grande donde el tiempo de respuesta es lo mas importante\r\n-XX:CMSIncrementalMode : este modo esta pensado para q se lance de forma incremental y minimizar el impacto de las fases largas de concurrencia \r\n-XX:UseCompressedOops habilita el uso de punteros comprimidos\r\n\r\n\r\n OPCIONES DE LOGUEO DEL GC\r\n-XX:PrintGCDetails \r\n-XX:PrintGCTimeStamps \r\n-verbose:gc \r\n\r\n*service.bat colgado en proyecto instalacion burgos2011*\r\n',3,'2012-03-23 12:32:44',0),(6,213,'TAONET- no arranca: comentarios en odf_tomcat.xml ','un comentario sin espacios hace q no se lea el odf y la app no va','si ponemos un comentario <!--comentario--> sin espacios la app no procesara correctamente el odf y no arrancara todos los comentarios deben llevar un espacio antes y despues de los tag de comentarios <!-- comentario -->',3,'2012-06-14 22:25:50',0),(7,213,'TAONET- no arranca permisos de usuario','los ficheros de configuración pertenecen a otro usuario q no es el que corre el servidor de aplicaciones','En un server linux/solaris si machacamos los ficheros de configuración, se machacaran con los permisos de nuestro usuario (ojo si estamos logueados como root, que a los administradores de app servers les suele pasar) en el caso de q el usuario no sea el que corre el server de app, al arrancar taonet, no leera los ficheros de configuración y no podra arrancar',3,'2012-06-14 22:28:56',0),(8,213,'TAONET- no arranca: no se encuentra odf','cuano taonet no encuentra el odf','taonet carga al arrancar el fichero odf.xml o odf_tomcat.xml, lo carga de la variable ODF_XML que se fija de una de las 2 siguientes formas\r\n  *  a traves del archivo web.xml que esta en la carpeta WEB-INF añadiendo los siguientes tags entre el tag \"</distributable>\" y el tag \"<listener>\"\r\n\r\n\"   <context-param>\r\n    <param-name>ODF_XML</param-name>\r\n    <param-value>/app/taonet/input/cfg/odf.xml</param-value>\r\n  </context-param>\"\r\n\r\n * pasando como parametro la ruta del odf a la mv en el catallina.bat o en el service.bat al instalar el servicio de taonet (en el caso de tomcat)\r\n\r\n   \"--JvmOptions  \"-DODF_XML=F:\\TAONet\\resources\\cfg\\odf_tomcat.xml\" \r\n\r\ncuando obtenemos un filenotfound al arrancar taonet  habra que revisar ambos casos para ver si estamos pasando la ruta de nuestro fichero odf correctamente',3,'2012-06-14 22:36:50',0),(9,213,'TAONET- no arranca: mal despliegue en tomcat','taonet no arranca y no obtenemos error salvo al poner la url ','todas las config estan bien, el war es correcto y no arranca tao.\r\nEn este caso hay q revisar en la carpeta webapps q este el tao.war y la carpeta tao q es en la que se despliegua la aplicación pudiera ser que no se haya desplegado bien por que el so(windows mayormente) tubiese bloqueado algun archivo y no se haya desplegado correctamente. En este caso lo mejor sera borrar la carpeta tao ya que el tomcat volvera a desplegar el tao.war automaticamente. En este caso tb será muy aconsejable borrar el contenido de la carpeta work de tomcat y dentro de la carpeta conf/catalina/localhost el archivo tao.xml',3,'2012-06-14 22:43:41',0),(10,213,'TAONET arranca no hace login datasource mal config en odf','taonet arranca pero no hace login correctamente','TAONet arranca correctamente, hacemos login y no se carga en el log se suele apreciar un error\r\ndel estilo del framento siguiente :\r\n  \"javax.naming.NameNotFoundException: Name roche_datasource is not bound in this Context\"\r\n\r\nEsto viene dado por una definicion erronea del tag datasource en el odf hay 2 formas de definirlo y depende del servidor de aplicaciones:\r\n\r\n   - definicion para TOMCAT:\r\n\r\n\"   <app-var codename=\"datasource\">\r\n            <var-value>java:comp/env/jdbc/roche_datasource</var-value>\r\n        </app-var> \"\r\n\r\n    - definición para jboss, Oracle Application Server\r\n\r\n\"   <app-var codename=\"datasource\">\r\n            <var-value>roche_datasource</var-value>\r\n        </app-var> \"\r\n\r\nHay que revisar que tengamos el valor correspondiente a nuestro appserver',3,'2012-06-14 23:50:43',0),(11,213,'TAONET arranca no hace login bbdd mal config en odf','taonet arranca pero no hace login, errores esporadicos de jdbc en el log, tenemos mal configurado el dao en el odf','Cuando taonet arranca y no hace login, el datasource esta bien configurado, la conexion a bbdd también, debemos revisar si en el odf tenemos seleccionado el dao correcto, ya que podriamos tener mal configuado el dao y estar lanzando querys de otra bbdd, debemos revisar el tag\r\nseleccionar el dao que nos corresponda y reiniciar taonet\r\n\r\n\" <app-var codename=\"DATABASE_SUFIX\">\r\n            <var-value>MySQL</var-value>\r\n </app-var>\",',3,'2012-06-14 23:55:29',0),(12,213,'TAONET arranca no hace login conexion bbdd mal configurada','taonet arranca pero no hace login, en el tao.log hay errores de jdbc  o class not found de la clase del driver de conexion','Cuando taonet arranca pero no hace login y en el log vemos errores de jdbc al cargar la estructura de menus o class not found de la clase con la que configuramos el driver de conexion a bbdd. Debemos revisar:\r\n -- los parametros de conexion a bbdd que sean correctos\r\n -- que el usuario de bbdd tenga permisos sobre el esquema de bbdd\r\n -- que tengamos el jar del driver de conexion en la carpeta lib del servidor de aplicaciones ya que taonet lo nos incluye en su carpeta lib\r\n\r\nUna vez revisados y corregidos estos pasos debemos reiniciar el tomcat',3,'2012-06-15 00:26:18',0);
